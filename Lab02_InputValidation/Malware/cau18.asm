; int WSAStartup(WORD wVersionRequested, LPWSADATA lpWSAData);
push    ecx				; lpWSAData
push    202h				; wVersionRequested
mov     ptr [esp + 250h + name.sa_data], ax
call    ds:WSAStartup  	; Khởi động Winsock với 2 tham số trên

; SOCKET s = socket(AF_INET,SOCK_STREAM,IPPROTO_IP);	
push    0				; Họ địa chỉ: không xác định
push    1				; Kiểu của socket: TCP
push    2				; IGMP
call    ds:socket		; Tạo socket với 3 tham số trên 

; int bind( SOCKET s, const struct sockaddr FAR* name, int namelen )
push    10h				; namelen  = 10h
lea     edx, [esp + 24Ch + name]
mov     ebx, eax
push    edx				; name
push    ebx				; s
call    ds:bind			; Gắn địa chỉ cho socket với 3 tham số trên

; int listen( SOCKET s, int backlog );
mov     esi, ds:listen
push    5				; backlog = 5
push	ebx				; s
call	esi				; Lắng nghe kết nối với 2 tham số trên

; SOCKET accept( SOCKET s, struct sockaddr FAR* addr, int FAR*  addrlen )
lea		eax, [esp + 248h + addelen]
push	eax				; addrlen
lea		ecx, [esp + 24Ch + hosthort]
push 	ecx				; addr
push	ebx				; s
call	ds:accept		; Chấp nhận thiết lập kết nối với 3 tham số trên